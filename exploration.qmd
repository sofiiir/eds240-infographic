---
title: "exploration"
format: html
message: false
warning: false
---
What does the bat data show?
```{r}
#| message: false
#| warning: false

# load in necessary libraries
library(tidyverse)
```

```{r}
# read in data
bats <- read_csv(here::here("data", "figshare-bat-data", "Dataset_1.csv")) |> 
  janitor::clean_names()
```
```{r}
# view the data 
head(bats)
```

###What are the different feeding groups in this dataset?
```{r}
unique(bats$feeding_groups)
```

```{r}
bat_feeding_groups<- bats |> 
  group_by(feeding_groups) |> 
  summarise(value = n()) |> 
  arrange(value)

ggplot(bat_feeding_groups) +
  geom_col(aes(value, feeding_groups))+
  theme_minimal() +
  theme(axis.title = element_blank()) +
  labs(title = "Number of Bats per Feeding Group")
  
```


###How many species are represented in this dataset?
```{r}
length(unique(bats$species))
```
 So many unique species. 
 
### What region are bats found in most often?
These values are held in columns that are dummy variables. The 

```{r}
ecosystem_bats <- bats |> 
  select(species_name, forest, savanna, dessert, urban, cave) |> 
  mutate(forest = case_when(forest == 1 ~ "forest", 
                            forest == 0 ~ NA)) |> 
  mutate(savanna = case_when(savanna == 1 ~ "savanna", 
                              savanna == 0 ~ NA)) |> 
  mutate(desert = case_when(dessert == 1 ~ "desert",
                            dessert == 0 ~ NA))  |> 
  mutate(urban = case_when(urban == 1 ~ "urban",
                           urban == 0 ~ NA)) |> 
  mutate(cave = case_when(cave == 1 ~ "cave",
                          cave == 0 ~ NA)) |> 
  pivot_longer(cols = forest:cave,
               names_to = "ecosystem_type",
               values_to = "ecosystem")
```

 
```{r}
forest_bats <- bats |> 
  group_by(forest) |> 
  summarise(total_forest = n())

# ggplot(bat_feeding_groups) +
#   geom_col(aes(value, feeding_groups))+
#   theme_minimal() +
#   theme(axis.title = element_blank()) +
#   labs(title = "Number of Bats per Feeding Group")
```

 
